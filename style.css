@import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700;800&display=swap');

*{ box-sizing:border-box }

body{
  margin:0;
  min-height:100vh;
  font-family:"Be Vietnam Pro",system-ui;
  background:
    linear-gradient(rgba(90,0,0,.55),rgba(120,0,0,.85)),
    url("https://files.catbox.moe/lca24i.jpg");
  background-size:cover;
  background-position:center;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ================= EFFECT LAYER ================= */
.effects{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:1;
  overflow:hidden;
}

/* ================= HOA ĐÀO ================= */
.petal{
  position:absolute;
  top:-10%;
  width:14px;
  height:14px;
  background:radial-gradient(circle,#ffb7c5,#ff4d6d);
  border-radius:50%;
  opacity:.85;
  animation:petal-fall linear infinite;
}

@keyframes petal-fall{
  to{
    transform:translateY(120vh) rotate(360deg);
  }
}

/* ================= KIM TUYẾN ================= */
.sparkle{
  position:absolute;
  width:4px;
  height:4px;
  background:gold;
  border-radius:50%;
  opacity:.8;
  animation:sparkle 3s ease-in-out infinite;
}

@keyframes sparkle{
  50%{
    opacity:.2;
    transform:scale(.4);
  }
}

/* ================= ĐÈN LỒNG ================= */
.lantern{
  position:absolute;
  top:10%;
  width:42px;
  height:56px;
  background:linear-gradient(#ff4d4d,#b71c1c);
  border-radius:50% 50% 40% 40%;
  box-shadow:0 0 20px rgba(255,0,0,.7);
  animation:lantern-float 4s ease-in-out infinite;
}

@keyframes lantern-float{
  50%{ transform:translateY(-12px) }
}

/* ================= BOX ================= */
.box{
  position:relative;
  z-index:10;
  width:92%;
  max-width:540px;
  padding:30px 22px 36px;
  text-align:center;
  color:#fff;
  background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.08));
  backdrop-filter:blur(14px);
  border-radius:26px;
  box-shadow:0 30px 60px rgba(0,0,0,.45);
}

#status{ opacity:.9 }

/* ================= ENVELOPES ================= */
.envelopes{
  display:flex;
  justify-content:space-between;
  gap:14px;
  margin-top:30px;
}

.envelope{
  position:relative;
  width:96px;
  height:156px;
  cursor:pointer;
  transition:.4s ease;
}

.envelope:hover{
  transform:translateY(-8px) scale(1.05);
}

/* ================= PHONG BAO ================= */
.env-body{
  position:absolute;
  inset:0;
  border-radius:22px;
  background:linear-gradient(180deg,#ff4d4d,#c62828);
  border:3px solid #ffd54f;
  box-shadow:0 18px 36px rgba(0,0,0,.45);
}

/* ===== CHỮ LÌ XÌ (AUTO FIT) ===== */
.env-body::after{
  content:"LÌ XÌ";
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(18px,6vw,26px);
  font-weight:800;
  letter-spacing:2px;
  color:#ffd54f;
  text-align:center;
}

.envelope.opened .env-body::after{
  opacity:0;
  transform:scale(.7);
}

/* ================= GIFT ================= */
.gift{
  position:absolute;
  inset:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-weight:800;
  opacity:0;
  transform:scale(.8);
  transition:.45s ease;
  color:#ffeb3b;
  text-shadow:
    0 3px 8px rgba(0,0,0,.6),
    0 0 18px rgba(255,215,0,.7);
}

.envelope.opened .gift{
  opacity:1;
  transform:scale(1);
}

/* ================= CÂU CHÚC ================= */
.gift.wish{
  font-size:clamp(13px,3.6vw,18px);
  line-height:1.4;
  padding:8px;
  word-break:break-word;
}

/* ================= TIỀN ================= */
.gift.money{
  font-size:clamp(22px,7vw,30px);
  white-space:nowrap;
}

/* ================= CENTER + SHAKE ================= */
.envelope.center{
  position:fixed;
  inset:0;
  margin:auto;
  z-index:9999;
  transform:scale(1.6);
}

.envelope.fade{
  opacity:.2;
  pointer-events:none;
}

@keyframes shake{
  0%{ transform:scale(1.6) rotate(0) }
  25%{ transform:scale(1.6) rotate(-4deg) }
  50%{ transform:scale(1.6) rotate(4deg) }
  100%{ transform:scale(1.6) rotate(0) }
}

.envelope.shake{
  animation:shake .6s ease;
}

/* ================= RESET ================= */
.reset-btn{
  position:fixed;
  top:16px;
  left:16px;
  padding:10px 22px;
  border:none;
  border-radius:999px;
  font-weight:800;
  background:linear-gradient(#fffde7,#ffd54f);
  box-shadow:0 10px 24px rgba(0,0,0,.35);
  z-index:10000;
}

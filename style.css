@import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700;800&display=swap');
*{box-sizing:border-box}

/* ================= BODY ================= */
body{
  margin:0;
  min-height:100vh;
  font-family:"Be Vietnam Pro",system-ui;
  background:
    linear-gradient(rgba(90,0,0,.55),rgba(120,0,0,.85)),
    url("https://files.catbox.moe/lca24i.jpg");
  background-size:cover;
  background-position:center;
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* ================= EFFECT LAYER ================= */
.effects,
.petals,
#confettiBox,
.lanterns{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:2;
}

/* ================= HOA ƒê√ÄO ================= */
.petal{
  position:absolute;
  top:-10%;
  width:14px;
  height:14px;
  border-radius:50%;
  background:radial-gradient(circle,#ffb7c5,#ff4d6d);
  opacity:.85;
  animation:petal-fall linear infinite;
}

@keyframes petal-fall{
  to{ transform:translateY(120vh) rotate(360deg) }
}

/* ================= KIM TUY·∫æN V√ÄNG (CSS ONLY) ================= */
#confettiBox::before,
#confettiBox::after{
  content:"";
  position:absolute;
  inset:0;
  background-image:
    radial-gradient(circle at 10% 20%, gold 2px, transparent 3px),
    radial-gradient(circle at 25% 40%, gold 2px, transparent 3px),
    radial-gradient(circle at 50% 15%, gold 2px, transparent 3px),
    radial-gradient(circle at 70% 30%, gold 2px, transparent 3px),
    radial-gradient(circle at 85% 60%, gold 2px, transparent 3px),
    radial-gradient(circle at 40% 80%, gold 2px, transparent 3px);
  animation:confettiFall 7s linear infinite;
  opacity:.8;
}

#confettiBox::after{
  animation-duration:10s;
  opacity:.5;
}

@keyframes confettiFall{
  from{ transform:translateY(-20vh) }
  to{ transform:translateY(120vh) }
}

/* ================= L·ªíNG ƒê√àN ================= */
.lanterns{
  top:0;
  height:140px;
  display:flex;
  justify-content:space-around;
  align-items:flex-start;
}

.lantern{
  width:42px;
  height:56px;
  margin-top:12px;
  background:linear-gradient(#ff4d4d,#b71c1c);
  border-radius:50% 50% 40% 40%;
  box-shadow:0 0 20px rgba(255,0,0,.7);
  animation:lanternFloat 4s ease-in-out infinite;
}

@keyframes lanternFloat{
  50%{ transform:translateY(-12px) }
}

/* ================= BOX ================= */
.box{
  position:relative;
  z-index:10;
  width:92%;
  max-width:540px;
  padding:30px 22px 36px;
  text-align:center;
  color:#fff;
  background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.08));
  backdrop-filter:blur(14px);
  border-radius:26px;
  box-shadow:0 30px 60px rgba(0,0,0,.45);
}

#status{opacity:.9}

/* ================= ENVELOPES ================= */
.envelopes{
  display:flex;
  justify-content:space-between;
  gap:14px;
  margin-top:30px;
}

.envelope{
  position:relative;
  width:96px;
  height:164px;
  cursor:pointer;
  transition:.4s ease;
}

/* ================= PHONG BAO ================= */
.env-body{
  position:absolute;
  inset:0;
  border-radius:22px;
  background:linear-gradient(180deg,#ff4d4d,#c62828);
  border:3px solid #ffd54f;
  box-shadow:0 18px 36px rgba(0,0,0,.45);
}

/* ===== CH·ªÆ L√å X√å ===== */
.env-body::after{
  content:"L√å X√å";
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:clamp(18px,6vw,26px);
  font-weight:800;
  letter-spacing:2px;
  color:#ffd54f;
}

.envelope.opened .env-body::after{
  opacity:0;
  transform:scale(.7);
}

/* ================= GIFT ================= */
.gift{
  position:absolute;
  inset:14px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  font-weight:800;
  color:#ffeb3b;
  opacity:0;
  transform:scale(.8);
  transition:.45s ease;

  /* üîí FIX LEM CH·ªÆ */
  overflow:hidden;
  max-height:100%;
}

.envelope.opened .gift{
  opacity:1;
  transform:scale(1);
}

/* ===== C√ÇU CH√öC ===== */
.gift.wish{
  font-size:clamp(13px,3.4vw,18px);
  line-height:1.25;
  padding:6px 8px;
  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:6;
  word-break:break-word;
}

/* ===== TI·ªÄN ===== */
.gift.money{
  font-size:clamp(22px,7vw,30px);
  white-space:nowrap;
}

/* ================= RESET ================= */
.reset-btn{
  position:fixed;
  top:16px;
  left:16px;
  padding:10px 22px;
  border:none;
  border-radius:999px;
  font-weight:800;
  background:linear-gradient(#fffde7,#ffd54f);
  box-shadow:0 10px 24px rgba(0,0,0,.35);
  z-index:10000;
    }
